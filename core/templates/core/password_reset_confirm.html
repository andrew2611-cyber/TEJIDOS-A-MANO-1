{% extends "core/base.html" %}
{% load static %}
{% block content %}
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-7 col-lg-6">
            <div class="text-center mb-4">
                <img src="{% static 'img/zapatilla.png' %}" alt="Logo ZC" style="height: 38px; vertical-align: middle; margin-bottom: 4px;">
                <span style="font-size: 2rem; font-weight: 700; color: #e6a12a; margin-left: 6px; vertical-align: middle;">ZC</span>
            </div>
            <div class="text-center mb-4">
                <h1 style="color: #15803d; font-size: 2.1rem; font-weight: 700; margin-bottom: 1.2rem;">Restablecer contraseña</h1>
            </div>
            {% if validlink %}
                <form method="post" class="text-center">
                    {% csrf_token %}
                    <div class="mb-4">
                        <label for="id_new_password1" style="font-size: 1.1rem; font-weight: 600; color: #222;">Nueva contraseña:</label>
                        <input type="password" name="new_password1" autocomplete="new-password" required id="id_new_password1" class="form-control" placeholder="Nueva contraseña..." style="font-size: 1.3rem; border-radius: 18px; padding: 18px 22px; border: 2px solid #222; margin-bottom: 18px;">
                        <label for="id_new_password2" style="font-size: 1.1rem; font-weight: 600; color: #222;">Confirmar nueva contraseña:</label>
                        <input type="password" name="new_password2" autocomplete="new-password" required id="id_new_password2" class="form-control" placeholder="Confirmar contraseña..." style="font-size: 1.3rem; border-radius: 18px; padding: 18px 22px; border: 2px solid #222;">
                        {% if form.errors %}
                            <div class="alert alert-danger mt-2">{{ form.errors }}</div>
                        {% endif %}
                    </div>
                    <div class="d-flex justify-content-center gap-3 mt-4">
                        <button type="submit" class="btn" style="background: #15803d; color: #fff; font-size: 1.2rem; border-radius: 22px; padding: 12px 36px; font-weight: 600; min-width: 160px;">Cambiar contraseña</button>
                    </div>
                </form>
            {% else %}
                <div class="text-center">
                    <p>El enlace de restablecimiento no es válido o ha expirado.</p>
                    <a href="{% url 'core:password_reset' %}" class="btn btn-warning">Solicitar nuevo enlace</a>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
